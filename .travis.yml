language: node_js
node_js: '0.10'
branches:
  only:
  - master
env:
  global:
  - secure: JxS2Nhd0w1L4sr+y2uko4nGKa4CoXZwmA0mbWQk3jo1joJm1AJhONR3z+1GUPVyadZEIaVS+W3uE+f0V8ebHVU8Ke/jdDIUdWat0NmGv20YnHh3myjfMqCDiT0scjDfM69mAq89G3NZKDHJTtn3oVXQt5igegVUg9i/tBN1H4hY=
  - secure: J3zmAg4FgfMtpT27G/qcpv44mILTGLBn/uRNle3w4M33TG4LQOtwbhKvF8zLeWWFrYHLHwmCtU8vQYQJ7qWvUdaoYYrIjtg+8IrmPOim93xcX/XrguE3YwmUCJG0/OMPNZukUiPkwSXy3fMSRwznMY8SAyYrlcVzbdD9kbBTLD8=
before_install:
- sh -e /etc/init.d/xvfb start
- export DISPLAY=:99.0
before_script:
- npm install
- '`npm bin`/webdriver-manager update'
- '`npm bin`/bower install'
- node server.js 8000 &
- curl https://gist.github.com/santiycr/5139565/raw/sauce_connect_setup.sh | bash
script:
- '`npm bin`/grunt build'
- '`npm bin`/grunt test:e2e:firefox'
- echo 1 || `npm bin`/grunt test:e2e:chrome
- echo 1 || `npm bin`/grunt test:e2e:phantomjs
- '`npm bin`/karma start test/karma.conf.js --single-run'
