# .travis.yml

branches:
  only:
    - master

before_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sudo apt-get update
  - sudo apt-get -y install chromium-browser firefox

before_script:
  - npm install
  - "`npm bin`/webdriver-manager update"
  - "`npm bin`/bower install"
  - node server.js &

script:
  - "`npm bin`/grunt build"
  - "`npm bin`/grunt test:e2e:firefox"
  - "`npm bin`/grunt test:e2e:chrome"
  - "echo 1 || `npm bin`/grunt test:e2e:phantomjs"
  - "`npm bin`/karma start test/karma.conf.js --single-run"
